generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             String    @id @default(uuid()) @db.Uuid
  email          String    @unique
  passwordHash   String    @map("password_hash")
  firstName      String    @map("first_name")
  lastName       String    @map("last_name")
  role           UserRole
  emailVerified  Boolean   @default(false) @map("email_verified")
  organizationId String?   @map("organization_id") @db.Uuid
  createdAt      DateTime  @default(now()) @map("created_at")
  updatedAt      DateTime  @updatedAt @map("updated_at")

  organization      Organization?      @relation(fields: [organizationId], references: [id])
  auditEvents       AuditEvent[]
  sessions          Session[]
  resetTokens       PasswordResetToken[]
  memberships       OrgMembership[]
  candidateProfile  CandidateProfile?
  jobsCreated       Job[]              @relation("JobsCreated")
  applications      Application[]      @relation("ApplicationsSubmitted")
  conversationParts ConversationParticipant[]
  messagesSent      Message[]          @relation("MessagesSent")
  meetingsCreated        Meeting[]              @relation("MeetingsCreated")
  meetingParticipations   MeetingParticipant[]
  scorecardsGiven   Scorecard[]        @relation("ScorecardsGiven")
  savedSearches     SavedSearch[]
  notifications     Notification[]
  notifPreference   NotificationPreference?
  notesAuthored     ApplicationNote[]  @relation("NotesAuthored")
  stageChanges      ApplicationStageEvent[] @relation("StageChanges")
  demoSessions      DemoSession[]

  @@map("users")
}

model Organization {
  id        String   @id @default(uuid()) @db.Uuid
  name      String
  slug      String   @unique
  plan      String   @default("free")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  users              User[]
  auditEvents        AuditEvent[]
  memberships        OrgMembership[]
  jobs               Job[]
  subscriptions      Subscription[]
  employerProfile    EmployerProfile?
  feedbackTemplates  FeedbackTemplate[]
  evaluationRubrics  EvaluationRubric[]
  jobTemplates       JobTemplate[]

  @@map("organizations")
}

model Subscription {
  id                 String             @id @default(uuid()) @db.Uuid
  organizationId     String             @map("organization_id") @db.Uuid
  stripeCustomerId   String?            @unique @map("stripe_customer_id")
  stripeSubscriptionId String?          @unique @map("stripe_subscription_id")
  plan               BillingPlan        @default(free)
  status             SubscriptionStatus @default(active)
  currentPeriodStart DateTime?          @map("current_period_start")
  currentPeriodEnd   DateTime?          @map("current_period_end")
  cancelAtPeriodEnd  Boolean            @default(false) @map("cancel_at_period_end")
  createdAt          DateTime           @default(now()) @map("created_at")
  updatedAt          DateTime           @updatedAt @map("updated_at")

  organization       Organization       @relation(fields: [organizationId], references: [id])
  billingEvents      BillingEvent[]
  invoices           Invoice[]

  @@index([organizationId])
  @@map("subscriptions")
}

model BillingEvent {
  id              String   @id @default(uuid()) @db.Uuid
  subscriptionId  String   @map("subscription_id") @db.Uuid
  type            String
  stripeEventId   String?  @unique @map("stripe_event_id")
  amount          Int?
  currency        String?
  metadata        Json?
  createdAt       DateTime @default(now()) @map("created_at")

  subscription    Subscription @relation(fields: [subscriptionId], references: [id])

  @@index([subscriptionId])
  @@index([stripeEventId])
  @@map("billing_events")
}

model Session {
  id           String   @id @default(uuid()) @db.Uuid
  userId       String   @map("user_id") @db.Uuid
  token        String   @unique
  ipAddress    String?  @map("ip_address")
  userAgent    String?  @map("user_agent")
  expiresAt    DateTime @map("expires_at")
  createdAt    DateTime @default(now()) @map("created_at")

  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([expiresAt])
  @@map("sessions")
}

model PasswordResetToken {
  id        String   @id @default(uuid()) @db.Uuid
  userId    String   @map("user_id") @db.Uuid
  token     String   @unique
  usedAt    DateTime? @map("used_at")
  expiresAt DateTime @map("expires_at")
  createdAt DateTime @default(now()) @map("created_at")

  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([expiresAt])
  @@map("password_reset_tokens")
}

model OrgMembership {
  id             String        @id @default(uuid()) @db.Uuid
  userId         String        @map("user_id") @db.Uuid
  organizationId String        @map("organization_id") @db.Uuid
  role           OrgRole
  createdAt      DateTime      @default(now()) @map("created_at")
  updatedAt      DateTime      @updatedAt @map("updated_at")

  user           User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  organization   Organization  @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@unique([userId, organizationId])
  @@index([organizationId])
  @@map("org_memberships")
}

model CandidateProfile {
  id             String   @id @default(uuid()) @db.Uuid
  userId         String   @unique @map("user_id") @db.Uuid
  headline       String?
  summary        String?
  resumeUrl      String?  @map("resume_url")
  skills         String[] @default([])
  experienceYears Int?    @map("experience_years")
  locationCity   String?  @map("location_city")
  locationState  String?  @map("location_state")
  locationCountry String? @map("location_country")
  remoteOnly     Boolean  @default(false) @map("remote_only")
  salaryMin      Int?     @map("salary_min")
  salaryMax      Int?     @map("salary_max")
  salaryCurrency String   @default("USD") @map("salary_currency")
  availableFrom  DateTime? @map("available_from")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  user           User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("candidate_profiles")
}

model EmployerProfile {
  id              String   @id @default(uuid()) @db.Uuid
  organizationId  String   @unique @map("organization_id") @db.Uuid
  logoUrl         String?  @map("logo_url")
  coverImageUrl   String?  @map("cover_image_url")
  tagline         String?
  description     String?
  industry        String?
  companySize     String?  @map("company_size")
  foundedYear     Int?     @map("founded_year")
  websiteUrl      String?  @map("website_url")
  linkedinUrl     String?  @map("linkedin_url")
  headquarters    String?
  techStack       String[] @default([]) @map("tech_stack")
  benefits        String[] @default([])
  culture         String?
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  organization    Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@map("employer_profiles")
}

model SavedSearch {
  id              String   @id @default(uuid()) @db.Uuid
  userId          String   @map("user_id") @db.Uuid
  name            String
  filters         Json
  alertEnabled    Boolean  @default(false) @map("alert_enabled")
  alertFrequency  String?  @map("alert_frequency")
  lastAlertedAt   DateTime? @map("last_alerted_at")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@map("saved_searches")
}

model Notification {
  id          String   @id @default(uuid()) @db.Uuid
  userId      String   @map("user_id") @db.Uuid
  type        String
  title       String
  body        String
  resourceType String? @map("resource_type")
  resourceId  String?  @map("resource_id")
  readAt      DateTime? @map("read_at")
  createdAt   DateTime @default(now()) @map("created_at")

  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId, readAt])
  @@index([userId, createdAt])
  @@map("notifications")
}

model NotificationPreference {
  id              String  @id @default(uuid()) @db.Uuid
  userId          String  @unique @map("user_id") @db.Uuid
  emailEnabled    Boolean @default(true) @map("email_enabled")
  pushEnabled     Boolean @default(true) @map("push_enabled")
  jobAlerts       Boolean @default(true) @map("job_alerts")
  applicationUpdates Boolean @default(true) @map("application_updates")
  meetingReminders Boolean @default(true) @map("meeting_reminders")
  chatMessages    Boolean @default(true) @map("chat_messages")
  marketingEmails Boolean @default(false) @map("marketing_emails")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  user            User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("notification_preferences")
}

model FeedbackTemplate {
  id              String   @id @default(uuid()) @db.Uuid
  organizationId  String   @map("organization_id") @db.Uuid
  name            String
  description     String?
  sections        Json
  isDefault       Boolean  @default(false) @map("is_default")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  organization    Organization @relation(fields: [organizationId], references: [id])

  @@index([organizationId])
  @@map("feedback_templates")
}

model EvaluationRubric {
  id              String   @id @default(uuid()) @db.Uuid
  organizationId  String   @map("organization_id") @db.Uuid
  name            String
  description     String?
  criteria        Json
  scoringScale    Json     @map("scoring_scale")
  isDefault       Boolean  @default(false) @map("is_default")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  organization    Organization @relation(fields: [organizationId], references: [id])

  @@index([organizationId])
  @@map("evaluation_rubrics")
}

model JobTemplate {
  id              String   @id @default(uuid()) @db.Uuid
  organizationId  String   @map("organization_id") @db.Uuid
  name            String
  description     String?
  template        Json
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  organization    Organization @relation(fields: [organizationId], references: [id])

  @@index([organizationId])
  @@map("job_templates")
}

model ApplicationNote {
  id              String   @id @default(uuid()) @db.Uuid
  applicationId   String   @map("application_id") @db.Uuid
  authorId        String   @map("author_id") @db.Uuid
  body            String
  mentionedUserIds String[] @default([]) @map("mentioned_user_ids")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  application     Application @relation(fields: [applicationId], references: [id])
  author          User        @relation("NotesAuthored", fields: [authorId], references: [id])

  @@index([applicationId])
  @@map("application_notes")
}

model Job {
  id              String    @id @default(uuid()) @db.Uuid
  organizationId  String    @map("organization_id") @db.Uuid
  createdById     String    @map("created_by_id") @db.Uuid
  title           String
  description     String
  requirements    String?
  benefits        String?
  department      String?
  employmentType  EmploymentType @map("employment_type")
  experienceLevel ExperienceLevel @map("experience_level")
  locationCity    String?   @map("location_city")
  locationState   String?   @map("location_state")
  locationCountry String?   @map("location_country")
  remote          Boolean   @default(false)
  salaryMin       Int?      @map("salary_min")
  salaryMax       Int?      @map("salary_max")
  salaryCurrency  String    @default("USD") @map("salary_currency")
  skills          String[]  @default([])
  status          JobStatus @default(draft)
  publishedAt     DateTime? @map("published_at")
  closedAt        DateTime? @map("closed_at")
  createdAt       DateTime  @default(now()) @map("created_at")
  updatedAt       DateTime  @updatedAt @map("updated_at")

  organization    Organization @relation(fields: [organizationId], references: [id])
  createdBy       User         @relation("JobsCreated", fields: [createdById], references: [id])
  applications    Application[]

  @@index([organizationId, status])
  @@index([status, publishedAt])
  @@map("jobs")
}

model Application {
  id              String            @id @default(uuid()) @db.Uuid
  jobId           String            @map("job_id") @db.Uuid
  candidateId     String            @map("candidate_id") @db.Uuid
  coverLetter     String?           @map("cover_letter")
  resumeUrl       String?           @map("resume_url")
  stage           ApplicationStage  @default(applied)
  withdrawnAt     DateTime?         @map("withdrawn_at")
  rejectedAt      DateTime?         @map("rejected_at")
  createdAt       DateTime          @default(now()) @map("created_at")
  updatedAt       DateTime          @updatedAt @map("updated_at")

  job             Job               @relation(fields: [jobId], references: [id])
  candidate       User              @relation("ApplicationsSubmitted", fields: [candidateId], references: [id])
  scorecards      Scorecard[]
  notes           ApplicationNote[]
  stageEvents     ApplicationStageEvent[]

  @@unique([jobId, candidateId])
  @@index([candidateId])
  @@index([jobId, stage])
  @@map("applications")
}

model Scorecard {
  id              String   @id @default(uuid()) @db.Uuid
  applicationId   String   @map("application_id") @db.Uuid
  reviewerId      String   @map("reviewer_id") @db.Uuid
  overallRating   Int      @map("overall_rating")
  criteria        Json
  recommendation  String?
  notes           String?
  submittedAt     DateTime @default(now()) @map("submitted_at")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  application     Application @relation(fields: [applicationId], references: [id])
  reviewer        User        @relation("ScorecardsGiven", fields: [reviewerId], references: [id])

  @@unique([applicationId, reviewerId])
  @@index([applicationId])
  @@map("scorecards")
}

model Conversation {
  id             String   @id @default(uuid()) @db.Uuid
  tenantId       String   @map("tenant_id") @db.Uuid
  applicationId  String?  @map("application_id") @db.Uuid
  subject        String?
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  participants   ConversationParticipant[]
  messages       Message[]

  @@index([tenantId])
  @@index([applicationId])
  @@map("conversations")
}

model ConversationParticipant {
  id              String   @id @default(uuid()) @db.Uuid
  conversationId  String   @map("conversation_id") @db.Uuid
  userId          String   @map("user_id") @db.Uuid
  lastReadAt      DateTime? @map("last_read_at")
  createdAt       DateTime @default(now()) @map("created_at")

  conversation    Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  user            User         @relation(fields: [userId], references: [id])

  @@unique([conversationId, userId])
  @@index([userId])
  @@map("conversation_participants")
}

model Message {
  id              String   @id @default(uuid()) @db.Uuid
  conversationId  String   @map("conversation_id") @db.Uuid
  senderId        String   @map("sender_id") @db.Uuid
  body            String
  editedAt        DateTime? @map("edited_at")
  deletedAt       DateTime? @map("deleted_at")
  createdAt       DateTime @default(now()) @map("created_at")

  conversation    Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  sender          User         @relation("MessagesSent", fields: [senderId], references: [id])

  @@index([conversationId, createdAt])
  @@map("messages")
}

model Meeting {
  id                String              @id @default(cuid())
  tenantId          String              @map("tenant_id")
  organizationId    String              @map("organization_id")
  applicationId     String?             @map("application_id")
  title             String
  description       String?
  timezone          String              @default("UTC")

  scheduledStartAt  DateTime            @map("scheduled_start_at")
  scheduledEndAt    DateTime            @map("scheduled_end_at")
  joinWindowOpenAt  DateTime            @map("join_window_open_at")
  joinWindowCloseAt DateTime            @map("join_window_close_at")

  status            VideoMeetingStatus  @default(DRAFT)

  provider          String              @default("livekit")
  providerRoomName  String?             @unique @map("provider_room_name")
  providerRoomSid   String?             @map("provider_room_sid")

  createdByUserId   String              @map("created_by_user_id")
  canceledByUserId  String?             @map("canceled_by_user_id")
  canceledReason    String?             @map("canceled_reason")
  endedAt           DateTime?           @map("ended_at")
  createdAt         DateTime            @default(now()) @map("created_at")
  updatedAt         DateTime            @updatedAt @map("updated_at")

  createdBy         User                @relation("MeetingsCreated", fields: [createdByUserId], references: [id])
  participants      MeetingParticipant[]
  events            MeetingEvent[]
  videoSessions     VideoSession[]

  @@index([tenantId, organizationId, scheduledStartAt])
  @@index([tenantId, status, scheduledStartAt])
  @@index([tenantId, applicationId])
  @@map("meetings")
}

model MeetingParticipant {
  id                String              @id @default(cuid())
  tenantId          String              @map("tenant_id")
  meetingId         String              @map("meeting_id")
  userId            String              @map("user_id")
  role              ParticipantRole
  attendanceStatus  AttendanceStatus    @default(INVITED)

  joinedAt          DateTime?           @map("joined_at")
  leftAt            DateTime?           @map("left_at")

  createdAt         DateTime            @default(now()) @map("created_at")
  updatedAt         DateTime            @updatedAt @map("updated_at")

  meeting           Meeting             @relation(fields: [meetingId], references: [id], onDelete: Cascade)
  user              User                @relation(fields: [userId], references: [id])

  @@unique([meetingId, userId])
  @@index([tenantId, userId])
  @@index([tenantId, meetingId, attendanceStatus])
  @@map("meeting_participants")
}

model VideoSession {
  id                String              @id @default(cuid())
  tenantId          String              @map("tenant_id")
  meetingId         String              @map("meeting_id")
  provider          String              @default("livekit")
  providerSessionId String?             @map("provider_session_id")
  status            VideoSessionStatus  @default(CREATED)

  startedAt         DateTime?           @map("started_at")
  endedAt           DateTime?           @map("ended_at")
  failureReason     String?             @map("failure_reason")

  createdAt         DateTime            @default(now()) @map("created_at")
  updatedAt         DateTime            @updatedAt @map("updated_at")

  meeting           Meeting             @relation(fields: [meetingId], references: [id], onDelete: Cascade)

  @@index([tenantId, meetingId, status])
  @@map("video_sessions")
}

model MeetingEvent {
  id                String              @id @default(cuid())
  tenantId          String              @map("tenant_id")
  meetingId         String              @map("meeting_id")
  actorUserId       String?             @map("actor_user_id")
  type              MeetingEventType
  payloadJson       Json?               @map("payload_json")
  correlationId     String?             @map("correlation_id")
  createdAt         DateTime            @default(now()) @map("created_at")

  meeting           Meeting             @relation(fields: [meetingId], references: [id], onDelete: Cascade)

  @@index([tenantId, meetingId, createdAt])
  @@index([tenantId, type, createdAt])
  @@map("meeting_events")
}

model AuditEvent {
  id             String   @id @default(uuid()) @db.Uuid
  tenantId       String   @map("tenant_id") @db.Uuid
  actorId        String?  @map("actor_id") @db.Uuid
  action         String
  resourceType   String   @map("resource_type")
  resourceId     String?  @map("resource_id")
  metadata       Json?
  correlationId  String?  @map("correlation_id")
  ipAddress      String?  @map("ip_address")
  createdAt      DateTime @default(now()) @map("created_at")

  tenant         Organization @relation(fields: [tenantId], references: [id])
  actor          User?        @relation(fields: [actorId], references: [id])

  @@index([tenantId, createdAt])
  @@index([actorId])
  @@index([action])
  @@index([correlationId])
  @@map("audit_events")
}

model Plan {
  id              String   @id @default(uuid()) @db.Uuid
  name            String   @unique
  displayName     String   @map("display_name")
  priceMonthly    Int      @map("price_monthly")
  priceYearly     Int      @map("price_yearly")
  currency        String   @default("USD")
  jobLimit        Int      @default(-1) @map("job_limit")
  memberLimit     Int      @default(-1) @map("member_limit")
  features        Json     @default("{}")
  active          Boolean  @default(true)
  stripePriceId   String?  @unique @map("stripe_price_id")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  invoices        Invoice[]

  @@map("plans")
}

model Invoice {
  id              String   @id @default(uuid()) @db.Uuid
  tenantId        String   @map("tenant_id") @db.Uuid
  subscriptionId  String   @map("subscription_id") @db.Uuid
  planId          String   @map("plan_id") @db.Uuid
  stripeInvoiceId String?  @unique @map("stripe_invoice_id")
  amountDue       Int      @map("amount_due")
  amountPaid      Int      @default(0) @map("amount_paid")
  currency        String   @default("USD")
  status          String   @default("draft")
  periodStart     DateTime @map("period_start")
  periodEnd       DateTime @map("period_end")
  paidAt          DateTime? @map("paid_at")
  createdAt       DateTime @default(now()) @map("created_at")

  subscription    Subscription @relation(fields: [subscriptionId], references: [id])
  plan            Plan         @relation(fields: [planId], references: [id])

  @@index([tenantId])
  @@index([subscriptionId])
  @@map("invoices")
}

model ApplicationStageEvent {
  id              String   @id @default(uuid()) @db.Uuid
  applicationId   String   @map("application_id") @db.Uuid
  fromStage       String?  @map("from_stage")
  toStage         String   @map("to_stage")
  actorId         String   @map("actor_id") @db.Uuid
  reason          String?
  metadata        Json?
  createdAt       DateTime @default(now()) @map("created_at")

  application     Application @relation(fields: [applicationId], references: [id])
  actor           User        @relation("StageChanges", fields: [actorId], references: [id])

  @@index([applicationId, createdAt])
  @@map("application_stage_events")
}

model DemoSession {
  id              String   @id @default(uuid()) @db.Uuid
  tenantId        String   @map("tenant_id") @db.Uuid
  userId          String   @map("user_id") @db.Uuid
  scenario        String?
  ipAddress       String?  @map("ip_address")
  userAgent       String?  @map("user_agent")
  expiresAt       DateTime @map("expires_at")
  cleanedUp       Boolean  @default(false) @map("cleaned_up")
  createdAt       DateTime @default(now()) @map("created_at")

  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([tenantId])
  @@index([expiresAt])
  @@map("demo_sessions")
}

model FeatureFlag {
  id              String   @id @default(uuid()) @db.Uuid
  tenantId        String?  @map("tenant_id") @db.Uuid
  key             String
  enabled         Boolean  @default(false)
  value           Json?
  description     String?
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  @@unique([tenantId, key])
  @@index([key])
  @@map("feature_flags")
}

model IdempotencyKey {
  id          String   @id @default(uuid()) @db.Uuid
  key         String   @unique
  scope       String?
  response    Json?
  statusCode  Int?     @map("status_code")
  createdAt   DateTime @default(now()) @map("created_at")
  expiresAt   DateTime @map("expires_at")

  @@index([expiresAt])
  @@index([scope])
  @@map("idempotency_keys")
}

enum UserRole {
  candidate
  employer
  agency
  admin

  @@map("user_role")
}

enum OrgRole {
  owner
  admin
  recruiter
  interviewer
  viewer

  @@map("org_role")
}

enum EmploymentType {
  full_time
  part_time
  contract
  internship
  temporary

  @@map("employment_type")
}

enum ExperienceLevel {
  entry
  mid
  senior
  lead
  executive

  @@map("experience_level")
}

enum JobStatus {
  draft
  published
  closed
  archived

  @@map("job_status")
}

enum ApplicationStage {
  applied
  screening
  interview
  offer
  hired
  rejected
  withdrawn

  @@map("application_stage")
}

enum VideoMeetingStatus {
  DRAFT
  REQUESTED
  CONFIRMED
  DENIED
  RESCHEDULE_REQUESTED
  CANCELED
  IN_PROGRESS
  COMPLETED
  NO_SHOW
  EXPIRED

  @@map("video_meeting_status")
}

enum ParticipantRole {
  HOST
  INTERVIEWER
  CANDIDATE
  OBSERVER
  RECRUITER

  @@map("participant_role")
}

enum AttendanceStatus {
  INVITED
  ACCEPTED
  DECLINED
  JOINED
  LEFT
  NO_SHOW

  @@map("attendance_status")
}

enum VideoSessionStatus {
  CREATED
  ACTIVE
  ENDED
  FAILED

  @@map("video_session_status")
}

enum MeetingEventType {
  REQUEST_CREATED
  REQUEST_ACCEPTED
  REQUEST_DENIED
  RESCHEDULE_REQUESTED
  RESCHEDULE_ACCEPTED
  CANCELED
  ROOM_CREATED
  TOKEN_ISSUED
  PARTICIPANT_JOINED
  PARTICIPANT_LEFT
  MEETING_STARTED
  MEETING_ENDED
  NO_SHOW_MARKED
  WEBHOOK_RECONCILED
  ERROR

  @@map("meeting_event_type")
}

enum BillingPlan {
  free
  starter
  professional
  enterprise

  @@map("billing_plan")
}

enum SubscriptionStatus {
  active
  past_due
  cancelled
  trialing

  @@map("subscription_status")
}
